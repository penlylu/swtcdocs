# 撮合交易

井通打造了高效的撮合交易算法。交易过程后台自动完成，不需要开发者介入。

## 什么是撮合交易

撮合交易是指卖方在交易系统创建卖单、买方在交易系统创建买单，系统按照
以下原则确定双方成交价格的交易方式：

* 价格优先。
* 相同价格时间优先。

## 撮合交易算法

币币交易撮合成交的前提是买入价必须大于或等于卖出价。

* 当买入价等于卖出价时，成交价就是买入价或卖出价。

* 当买入价大于卖出价时，系统在撮合时实际上是依据前一笔成交价而定出最新成交价的。如果前一笔成交价低于或等于卖出价，则最新成交价就是卖出价；如果前一笔成交价高于或等于买入价，则最新成交价就是买入价；如果前一笔成交价在卖出价与买入价之间，则最新成交价就是前一笔的成交价。

## 举例说明：

以交易对 SWTC/CNT 为例，

* 通过API或Lib获得当前orderbook，其中买一价为:0.011，卖一价为:0.012。这时如果A地址创建买单，买入数量1SWTC，单价:0.02CNT,则实际成交价应为0.012。

* 如当前orderbook中，买一价为:0.011，卖一价为:0.012,这时A地址创建卖单，卖出数量1SWTC，单价0.01CNT，则成交价为0.011CNT,如果同时还有B地址挂单卖出，卖出单价为0.011，则A地址先成交，然后B地址再成交。
